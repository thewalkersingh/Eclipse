package com.thewa.medsyncservice.controller;
import com.thewa.medsyncservice.entity.Patient;
import com.thewa.medsyncservice.service.PatientService;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping("/api/patient")
public class PatientController {
	private final PatientService patientService;
	
	public PatientController(PatientService patientService) {
		this.patientService = patientService;
	}
	
	@GetMapping
	public List<Patient> findAllPatients() {
		return patientService.getAll();
	}
	
	@GetMapping("/{id}")
	public Patient findPatientById(@PathVariable Long id) {
		return patientService.findById(id);
	}
	
	@PostMapping
	public Patient savePatient(@RequestBody Patient patient) {
		return patientService.save(patient);
	}
	
	@PutMapping("/{id}")
	public Patient updatePatient(@RequestBody Patient patient, @PathVariable Long id) {
		return patientService.update(id, patient);
	}
	
	@DeleteMapping("/{id}")
	public void deletePatient(@PathVariable Long id) {
		patientService.delete(id);
	}
}