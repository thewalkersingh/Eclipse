package com.thewa.medsyncservice.controller;
import com.thewa.medsyncservice.entity.Medicine;
import com.thewa.medsyncservice.service.MedicineService;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping("/api/medicine")
public class MedicineController {
	private final MedicineService medicineService;
	
	public MedicineController(MedicineService medicineService) {
		this.medicineService = medicineService;
	}
	
	@GetMapping("/{id}")
	public Medicine getMedicine(@PathVariable Long id) {
		return medicineService.findById(id);
	}
	
	@GetMapping("/all")
	public List<Medicine> getAllMedicines() {
		return medicineService.findAll();
	}
	
	@PostMapping
	public Medicine saveMedicine(@RequestBody Medicine medicine) {
		return medicineService.save(medicine);
	}
	
	@PutMapping("/{id}")
	public Medicine updateMedicine(@RequestBody Medicine medicineDetails, @PathVariable Long id) {
		return medicineService.update(id, medicineDetails);
	}
	
	@DeleteMapping("/{id}")
	public void deleteMedicine(@PathVariable Long id) {
		medicineService.delete(id);
	}
}